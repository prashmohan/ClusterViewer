{% extends "base.html" %}
{% block jsimports %}
<!--[if IE]><script language="javascript" type="text/javascript" src="../flot/excanvas.min.js"></script><![endif]--> 
<script type="text/javascript" src="/site_media/flot/jquery.js"></script> 
<script type="text/javascript" src="/site_media/flot/jquery.flot.js"></script>
{% endblock %}

{% block js %}
$(function () {
	var options1 = {
        lines: { show: true },
        xaxis: { mode: "time", timeformat: "%h:%M:%S", ticks: 3 },
        yaxis: { min: 0 },
        legend: { position: "sw"}
    };
    var options2 = {
        lines: { show: true },
        xaxis: { mode: "time", timeformat: "%h:%M:%S", ticks: 3 },
        yaxis: { min: 0, max:100 },
        legend: { position: "ne"}
    };
	$.plot($("#placeholder1"), [{{ power_data|safe }}], options1);
    $.plot($("#placeholder2"), [{{ util_data|safe }}], options2);
});

{% endblock %}

{% block contents %}

<h1 class="big">{{ node.name }}</h1>
<table width="100%">
    <tr>
        <td width="50%">
<div id='placeholder1' style='width: 325px; height: 300px;'></div> 
</td><td>
<div id='placeholder2' style='width: 325px; height: 300px;'></div> 
</td></tr></table>
    
<h1 class="small">Power status:</h1> On / Off
{% endblock %}